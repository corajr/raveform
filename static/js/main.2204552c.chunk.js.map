{"version":3,"sources":["audio/Audio.re","audio/AudioGraph.re","AdtSelect.re","index.re","app.re","Raveform.re","audio/UserMedia.re","Wavelet.re","canvas/RafCanvas.re","audio/AudioContext.re","audio/StatefulWavetable.re","audio/Wavetable.re","audio/StatefulOscillator.re","audio/Oscillator.re","serviceWorker.js"],"names":["$$Array","__webpack_require__","Block","Curry","UserMedia","Caml_array","Js_primitive","string_of_oscillatorType","param","noteToFrequency","note","Math","pow","qForBinsPerOctave","binsPerOctave","defaultQ","defaultCompressorValues","pinkNoiseFull","audioCtx","b0","b1","b2","b3","b4","b5","b6","node","createScriptProcessor","onaudioprocess","e","output","outputBuffer","getChannelData","i","white","random","setOscillatorType","oscillator","type_","type","match","periodicWave","createPeriodicWave","setPeriodicWave","makeOscillator","$staropt$star","$staropt$star$1","frequency","undefined","createOscillator","t","currentTime","setValueAtTime","string_of_filterType","filterType","tag","makeFilter","filter","createBiquadFilter","exit","Q","gain","makeBankOf","n","hasInput","f","input","some","createGain","createNode","_2","connect","_1","nodes","init","gains","map","gainNode","updateBankGains","bank","gainValues","length","i_finish","gainI","caml_array_get","linearRampToValueAtTime","pinkNoise","exports","makeDefaultAudioCtx","window","AudioContext","webkitAudioContext","oscillatorType_of_string","midiNoteA440Hz","yToFrequency","binsPerSemitone","offset","height","fBinsPerSemitone","offset$1","y","makeCompressor","paramValues","compressor","createDynamicsCompressor","threshold","knee","attack","release","cheaperPinkNoise","whiteNoise","makeAnalyser","$staropt$star$2","$staropt$star$3","audioContext","fftSize","minDecibels","maxDecibels","smoothingTimeConstant","analyser","createAnalyser","makeFilterBank","filterN","q","freqFunc","__","makeOscillatorBank","getAudioSource","ctx","getAudioStream","valFromOption","then","mediaStream","Promise","resolve","createMediaStreamSource","catch","err","console","log","connectFilterBank","noise","filterBank","merger","channel","disconnectFilterBank","_","disconnect","prim","prim$1","prim$2","prim$3","prim$4","ratio","updateFilterBank","filterValues","inputGain","outputGain","updateFilterBankDefinition","iteri","Belt_Id","Belt_Set","Caml_obj","Belt_MapString","EdgeComparator","MakeComparable","param$1","c","caml_compare","c$1","c$2","emptyEdgeSet","make","emptyAudioGraph","empty","partitionEdgesWithNode","key","edgeSet","partition","maybeApplyToGraph","graph","inputIndex","outputIndex","targetId","sourceId","maybeSource","get","maybeTarget","_4","disconnectEdges","edgesToDisconnect","forEach","edge","getNode","addNode","set","removeAllEdgesInvolvingNode","removeNode","remove","addEdge","add","removeEdge","updateConnections","edgesToConnect","diff","nowConnected","reduce","acc","replaceNode","newNode","React","ReasonReact","Make","Adt","component","statelessComponent","onChange","currentType","createElement","value","evt","s","target","x","App","ReactDOMRe","ServiceWorker","renderToElementWithId","element","unregister","Raveform","StatefulWavetable","StatefulOscillator","className","audioGraph","style","display","flexDirection","marginLeft","Audio","Wavelet","RafCanvas","AudioGraph","Canvas2dRe","animCallback","canvasWidth","canvasHeight","desiredFps","canvas","state","clearAlpha","edgeAlign","writeAlpha","waveletAlpha","getContext","width","risingEdge","match$1","match$2","match$3","freqData","timeData","globalCompositeOperation","Composite","setFillStyle","String","fillRect","getByteTimeDomainData","getByteFrequencyData","timeDataFloat","waveletData","haar","sliceHeight","sliceWidth","globalAlpha","rawV","rectWidth","log1p","levelsFloat","i$1","i_finish$1","power","levelOffset","levelWidth","levelHeight","j","j_finish","v$1","waveletCoefToUint8","toString","setStrokeStyle","beginPath","i$2","i_finish$2","wrappedI","x$1","y$1","lineTo","stroke","Uint8Array","frequencyBinCount","createImageData","reducerComponent","nodeKey","self","arg","param$2","eta","_$1","_getStream","constraints","navigator","mediaDevices","getUserMedia","getAudioVisualStream","nullable_to_opt","audio","video","getVideoStream","Caml_float","Caml_int32","root2","sqrt","oneOverRoot2","eltsWithStepAndOffset","step","div","imul","evens","odds","zipWith","a","b","mapi","waveletEpsilon","signalFloatToUint8","v","epsilon","abs","even","odd","sum","append","inverseHaar","sub","caml_make_vect","caml_array_set","inplaceFWHT","h","log2OfWaveletEpsilon","tmp","absV","scaledLogAbsV","caml_copysign_float","setCanvasRef","theRef","animCallbackRef","anim","requestAnimationFrame","cancelAnimationFrame","ref","render","action","suspend","resume","destination","Js_exn","Js_json","AdtSelect","Wavetable","Belt_Option","Caml_format","WavetableSelect","toWavetable","sineSamples","sawSamples","_3","JSON","stringify","json","parse","raw_e","internalToOCamlException","getWithDefault","decodeArray","decodeNumber","caml_float_of_string","wavetablePreset","List","Caml_string","Caml_primitive","makeBuffer","sampleData","sampleRate","samples","buffer","createBuffer","data","generateSamplesFromFunction","sineF","sin","PI","squareF","sawF","floor","triangleF","squareSamples","triangleSamples","cycle","mod_","makeBufferFromFunction","fractal1d","seed","generations","concat","fromText","zeroPad","out","len","caml_int_min","blit","swapDiff","$staropt$star$4","playbackRate","wavetable","bufferSource","createBufferSource","loop","start","stop","newSelf","bufferSource$1","Oscillator","OscillatorTypeSelect","shiftedMidiCps","FrequencyOrPeriodSelect","midiNoteToFreq","freqToMidiNote","Pervasives","osc","string_of_float","r","__webpack_exports__","d","register","isLocalhost","Boolean","location","hostname","config","URL","process","origin","addEventListener","swUrl","fetch","response","status","headers","indexOf","serviceWorker","ready","registration","reload","registerValidSW","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error"],"mappings":"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","file":"static/js/main.2204552c.chunk.js","sourcesContent":["// Generated by BUCKLESCRIPT VERSION 4.0.6, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Block = require(\"bs-platform/lib/js/block.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar UserMedia = require(\"./UserMedia\");\nvar Caml_array = require(\"bs-platform/lib/js/caml_array.js\");\nvar Js_primitive = require(\"bs-platform/lib/js/js_primitive.js\");\n\nvar makeDefaultAudioCtx = function (){return new (window.AudioContext || window.webkitAudioContext)()};\n\nfunction string_of_oscillatorType(param) {\n  if (typeof param === \"number\") {\n    switch (param) {\n      case 0 : \n          return \"sine\";\n      case 1 : \n          return \"square\";\n      case 2 : \n          return \"sawtooth\";\n      case 3 : \n          return \"triangle\";\n      \n    }\n  } else {\n    return \"custom\";\n  }\n}\n\nfunction oscillatorType_of_string(param) {\n  switch (param) {\n    case \"sawtooth\" : \n        return /* Sawtooth */2;\n    case \"sine\" : \n        return /* Sine */0;\n    case \"square\" : \n        return /* Square */1;\n    case \"triangle\" : \n        return /* Triangle */3;\n    default:\n      return /* Sine */0;\n  }\n}\n\nfunction noteToFrequency(note) {\n  return 440.0 * Math.pow(2.0, (note - 69.0) / 12.0);\n}\n\nfunction yToFrequency(binsPerSemitone, offset, height) {\n  var fBinsPerSemitone = binsPerSemitone;\n  var offset$1 = offset;\n  return (function (y) {\n      return noteToFrequency((height - y | 0) / fBinsPerSemitone + offset$1);\n    });\n}\n\nfunction qForBinsPerOctave(binsPerOctave) {\n  return 1.0 / (Math.pow(2.0, 1.0 / binsPerOctave) - 1.0);\n}\n\nvar defaultQ = qForBinsPerOctave(48);\n\nvar defaultCompressorValues = /* record */[\n  /* threshold */-12.0,\n  /* knee */0.0,\n  /* ratio */20.0,\n  /* attack */0.01,\n  /* release */0.05\n];\n\nfunction makeCompressor(audioCtx, $staropt$star) {\n  var paramValues = $staropt$star !== undefined ? $staropt$star : defaultCompressorValues;\n  var compressor = audioCtx.createDynamicsCompressor();\n  var t = audioCtx.currentTime;\n  compressor.threshold.setValueAtTime(paramValues[/* threshold */0], t);\n  compressor.knee.setValueAtTime(paramValues[/* knee */1], t);\n  compressor.attack.setValueAtTime(paramValues[/* attack */3], t);\n  compressor.release.setValueAtTime(paramValues[/* release */4], t);\n  return compressor;\n}\n\nvar pinkNoiseFull = function (audioCtx){\n     var bufferSize = 4096;\n     return (function() {\n     var b0, b1, b2, b3, b4, b5, b6;\n     b0 = b1 = b2 = b3 = b4 = b5 = b6 = 0.0;\n     var node = audioCtx.createScriptProcessor(bufferSize, 1, 1);\n     node.onaudioprocess = function(e) {\n     var output = e.outputBuffer.getChannelData(0);\n     for (var i = 0; i < bufferSize; i++) {\n     var white = Math.random() * 2 - 1;\n     b0 = 0.99886 * b0 + white * 0.0555179;\n     b1 = 0.99332 * b1 + white * 0.0750759;\n     b2 = 0.96900 * b2 + white * 0.1538520;\n     b3 = 0.86650 * b3 + white * 0.3104856;\n     b4 = 0.55000 * b4 + white * 0.5329522;\n     b5 = -0.7616 * b5 - white * 0.0168980;\n     output[i] = b0 + b1 + b2 + b3 + b4 + b5 + b6 + white * 0.5362;\n     output[i] *= 0.11; // (roughly) compensate for gain\n     b6 = white * 0.115926;\n     }\n     }\n     return node;\n     })();\n     };\n\nvar cheaperPinkNoise = function (audioCtx){\n     var bufferSize = 4096;\n     return (function() {\n     var b0, b1, b2;\n     b0 = b1 = b2 = 0.0;\n     var node = audioCtx.createScriptProcessor(bufferSize, 1, 1);\n     node.onaudioprocess = function(e) {\n     var output = e.outputBuffer.getChannelData(0);\n     for (var i = 0; i < bufferSize; i++) {\n     var white = Math.random() * 2 - 1;\n     b0 = 0.99765 * b0 + white * 0.0990460;\n     b1 = 0.96300 * b1 + white * 0.2965164;\n     b2 = 0.57000 * b2 + white * 1.0526913;\n     output[i] = b0 + b1 + b2 + white * 0.1848;\n     }\n     }\n     return node;\n     })();\n     };\n\nvar whiteNoise = function (audioCtx){\n     var bufferSize = 4096;\n     return (function() {\n     var node = audioCtx.createScriptProcessor(bufferSize, 1, 1);\n     node.onaudioprocess = function(e) {\n     var output = e.outputBuffer.getChannelData(0);\n     for (var i = 0; i < bufferSize; i++) {\n     var white = Math.random() * 2 - 1;\n     output[i] = white;\n     }\n     }\n     return node;\n     })();\n     };\n\nfunction makeAnalyser($staropt$star, $staropt$star$1, $staropt$star$2, $staropt$star$3, audioContext) {\n  var fftSize = $staropt$star !== undefined ? $staropt$star : 2048;\n  var minDecibels = $staropt$star$1 !== undefined ? $staropt$star$1 : -100.0;\n  var maxDecibels = $staropt$star$2 !== undefined ? $staropt$star$2 : -30.0;\n  var smoothingTimeConstant = $staropt$star$3 !== undefined ? $staropt$star$3 : 0.8;\n  var analyser = audioContext.createAnalyser();\n  analyser.fftSize = fftSize;\n  analyser.minDecibels = minDecibels;\n  analyser.maxDecibels = maxDecibels;\n  analyser.smoothingTimeConstant = smoothingTimeConstant;\n  return analyser;\n}\n\nfunction setOscillatorType(audioCtx, oscillator, type_) {\n  oscillator.type = string_of_oscillatorType(type_);\n  if (typeof type_ === \"number\") {\n    return /* () */0;\n  } else {\n    var match = type_[0];\n    var periodicWave = audioCtx.createPeriodicWave(match[/* real */0], match[/* imag */1]);\n    oscillator.setPeriodicWave(periodicWave);\n    return /* () */0;\n  }\n}\n\nfunction makeOscillator($staropt$star, $staropt$star$1, audioCtx) {\n  var frequency = $staropt$star !== undefined ? $staropt$star : 440.0;\n  var type_ = $staropt$star$1 !== undefined ? $staropt$star$1 : /* Sine */0;\n  var oscillator = audioCtx.createOscillator();\n  var t = audioCtx.currentTime;\n  oscillator.frequency.setValueAtTime(frequency, t);\n  setOscillatorType(audioCtx, oscillator, type_);\n  return oscillator;\n}\n\nfunction string_of_filterType(filterType) {\n  switch (filterType.tag | 0) {\n    case 0 : \n        return \"lowpass\";\n    case 1 : \n        return \"highpass\";\n    case 2 : \n        return \"bandpass\";\n    case 3 : \n        return \"lowshelf\";\n    case 4 : \n        return \"highshelf\";\n    case 5 : \n        return \"peaking\";\n    case 6 : \n        return \"notch\";\n    case 7 : \n        return \"allpass\";\n    \n  }\n}\n\nfunction makeFilter(audioCtx, filterType) {\n  var filter = audioCtx.createBiquadFilter();\n  filter.type = string_of_filterType(filterType);\n  var t = audioCtx.currentTime;\n  var exit = 0;\n  switch (filterType.tag | 0) {\n    case 3 : \n    case 4 : \n        exit = 1;\n        break;\n    case 5 : \n        filter.frequency.setValueAtTime(filterType[0], t);\n        filter.Q.setValueAtTime(filterType[1], t);\n        filter.gain.setValueAtTime(filterType[2], t);\n        break;\n    default:\n      filter.frequency.setValueAtTime(filterType[0], t);\n      filter.Q.setValueAtTime(filterType[1], t);\n  }\n  if (exit === 1) {\n    filter.frequency.setValueAtTime(filterType[0], t);\n    filter.gain.setValueAtTime(filterType[1], t);\n  }\n  return filter;\n}\n\nfunction makeBankOf(audioCtx, n, hasInput, f) {\n  var input = hasInput ? Js_primitive.some(audioCtx.createGain()) : undefined;\n  var output = audioCtx.createGain();\n  var t = audioCtx.currentTime;\n  var createNode = input !== undefined ? (function (i) {\n        var node = Curry._2(f, audioCtx, i);\n        input.connect(node);\n        return node;\n      }) : Curry._1(f, audioCtx);\n  var nodes = $$Array.init(n, createNode);\n  var gains = $$Array.map((function (node) {\n          var gainNode = audioCtx.createGain();\n          gainNode.gain.setValueAtTime(0.0, t);\n          node.connect(gainNode);\n          gainNode.connect(output);\n          return gainNode;\n        }), nodes);\n  return /* record */[\n          /* input */input,\n          /* nodes */nodes,\n          /* gains */gains,\n          /* output */output,\n          /* audioCtx */audioCtx\n        ];\n}\n\nfunction makeFilterBank(audioCtx, filterN, q, freqFunc) {\n  var createNode = function (audioCtx, i) {\n    return makeFilter(audioCtx, /* BandPass */Block.__(2, [\n                  Curry._1(freqFunc, filterN - i | 0),\n                  q\n                ]));\n  };\n  return makeBankOf(audioCtx, filterN, true, createNode);\n}\n\nfunction makeOscillatorBank(audioCtx, n, type_, freqFunc) {\n  var createNode = function (audioCtx, i) {\n    return makeOscillator(Curry._1(freqFunc, n - i | 0), type_, audioCtx);\n  };\n  var bank = makeBankOf(audioCtx, n, false, createNode);\n  var t = audioCtx.currentTime;\n  bank[/* output */3].gain.setValueAtTime(0.007, t);\n  return bank;\n}\n\nfunction getAudioSource(ctx) {\n  var match = UserMedia.getAudioStream(/* () */0);\n  if (match !== undefined) {\n    return Js_primitive.valFromOption(match).then((function (mediaStream) {\n                    return Promise.resolve(ctx.createMediaStreamSource(mediaStream));\n                  })).catch((function (err) {\n                  console.log(err);\n                  return Promise.resolve(undefined);\n                }));\n  } else {\n    return Promise.resolve(undefined);\n  }\n}\n\nfunction connectFilterBank(noise, filterBank, merger, channel) {\n  var match = filterBank[/* input */0];\n  if (match !== undefined) {\n    noise.connect(Js_primitive.valFromOption(match));\n  }\n  filterBank[/* output */3].connect(merger, 0, channel);\n  return /* () */0;\n}\n\nfunction disconnectFilterBank(noise, filterBank, _) {\n  var match = filterBank[/* input */0];\n  if (match !== undefined) {\n    noise.disconnect(Js_primitive.valFromOption(match));\n  }\n  filterBank[/* output */3].disconnect((function (prim, prim$1, prim$2, prim$3, prim$4) {\n          return {\n                  threshold: prim,\n                  knee: prim$1,\n                  ratio: prim$2,\n                  attack: prim$3,\n                  release: prim$4\n                };\n        }));\n  return /* () */0;\n}\n\nfunction updateBankGains(bank, gainValues) {\n  var t = bank[/* audioCtx */4].currentTime;\n  var n = gainValues.length;\n  for(var i = 0 ,i_finish = n - 1 | 0; i <= i_finish; ++i){\n    var gainI = (n - i | 0) - 1 | 0;\n    Caml_array.caml_array_get(bank[/* gains */2], gainI).gain.linearRampToValueAtTime(Caml_array.caml_array_get(gainValues, i), t + 0.05);\n  }\n  return /* () */0;\n}\n\nfunction updateFilterBank($staropt$star, $staropt$star$1, filterBank, filterValues) {\n  var inputGain = $staropt$star !== undefined ? $staropt$star : 1.0;\n  var outputGain = $staropt$star$1 !== undefined ? $staropt$star$1 : 0.1;\n  var currentTime = filterBank[/* audioCtx */4].currentTime;\n  var match = filterBank[/* input */0];\n  if (match !== undefined) {\n    Js_primitive.valFromOption(match).gain.setValueAtTime(inputGain, currentTime);\n  }\n  filterBank[/* output */3].gain.setValueAtTime(outputGain, currentTime);\n  return updateBankGains(filterBank, filterValues);\n}\n\nfunction updateFilterBankDefinition(filterBank, freqFunc, q) {\n  console.log(\"updating filter bank definitions (costly!)\");\n  var currentTime = filterBank[/* audioCtx */4].currentTime;\n  var n = filterBank[/* nodes */1].length;\n  return $$Array.iteri((function (i, filter) {\n                filter.Q.setValueAtTime(q, currentTime);\n                filter.frequency.setValueAtTime(Curry._1(freqFunc, (n - i | 0) - 1 | 0), currentTime);\n                return /* () */0;\n              }), filterBank[/* nodes */1]);\n}\n\nvar midiNoteA440Hz = 69.0;\n\nvar pinkNoise = pinkNoiseFull;\n\nexports.makeDefaultAudioCtx = makeDefaultAudioCtx;\nexports.string_of_oscillatorType = string_of_oscillatorType;\nexports.oscillatorType_of_string = oscillatorType_of_string;\nexports.midiNoteA440Hz = midiNoteA440Hz;\nexports.noteToFrequency = noteToFrequency;\nexports.yToFrequency = yToFrequency;\nexports.qForBinsPerOctave = qForBinsPerOctave;\nexports.defaultQ = defaultQ;\nexports.defaultCompressorValues = defaultCompressorValues;\nexports.makeCompressor = makeCompressor;\nexports.pinkNoiseFull = pinkNoiseFull;\nexports.cheaperPinkNoise = cheaperPinkNoise;\nexports.pinkNoise = pinkNoise;\nexports.whiteNoise = whiteNoise;\nexports.makeAnalyser = makeAnalyser;\nexports.setOscillatorType = setOscillatorType;\nexports.makeOscillator = makeOscillator;\nexports.string_of_filterType = string_of_filterType;\nexports.makeFilter = makeFilter;\nexports.makeBankOf = makeBankOf;\nexports.makeFilterBank = makeFilterBank;\nexports.makeOscillatorBank = makeOscillatorBank;\nexports.getAudioSource = getAudioSource;\nexports.connectFilterBank = connectFilterBank;\nexports.disconnectFilterBank = disconnectFilterBank;\nexports.updateBankGains = updateBankGains;\nexports.updateFilterBank = updateFilterBank;\nexports.updateFilterBankDefinition = updateFilterBankDefinition;\n/* defaultQ Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 4.0.6, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar Belt_Id = require(\"bs-platform/lib/js/belt_Id.js\");\nvar Belt_Set = require(\"bs-platform/lib/js/belt_Set.js\");\nvar Caml_obj = require(\"bs-platform/lib/js/caml_obj.js\");\nvar Belt_MapString = require(\"bs-platform/lib/js/belt_MapString.js\");\n\nfunction cmp(param, param$1) {\n  var c = Caml_obj.caml_compare(param[0], param$1[0]);\n  if (c !== 0) {\n    return c;\n  } else {\n    var c$1 = Caml_obj.caml_compare(param[1], param$1[1]);\n    if (c$1 !== 0) {\n      return c$1;\n    } else {\n      var c$2 = Caml_obj.caml_compare(param[2], param$1[2]);\n      if (c$2 !== 0) {\n        return c$2;\n      } else {\n        return Caml_obj.caml_compare(param[3], param$1[3]);\n      }\n    }\n  }\n}\n\nvar EdgeComparator = Belt_Id.MakeComparable(/* module */[/* cmp */cmp]);\n\nvar emptyEdgeSet = Belt_Set.make(EdgeComparator);\n\nvar emptyAudioGraph = /* record */[\n  /* nodes */Belt_MapString.empty,\n  /* edges */emptyEdgeSet,\n  /* actuallyConnectedEdges */emptyEdgeSet\n];\n\nfunction getNode(key, graph) {\n  return Belt_MapString.get(graph[/* nodes */0], key);\n}\n\nfunction addNode(param, graph) {\n  return /* record */[\n          /* nodes */Belt_MapString.set(graph[/* nodes */0], param[0], param[1]),\n          /* edges */graph[/* edges */1],\n          /* actuallyConnectedEdges */graph[/* actuallyConnectedEdges */2]\n        ];\n}\n\nfunction partitionEdgesWithNode(key, edgeSet) {\n  return Belt_Set.partition(edgeSet, (function (param) {\n                if (key === param[0]) {\n                  return true;\n                } else {\n                  return key === param[1];\n                }\n              }));\n}\n\nfunction removeAllEdgesInvolvingNode(key, graph) {\n  return /* record */[\n          /* nodes */graph[/* nodes */0],\n          /* edges */partitionEdgesWithNode(key, graph[/* edges */1])[1],\n          /* actuallyConnectedEdges */graph[/* actuallyConnectedEdges */2]\n        ];\n}\n\nfunction removeNode(key, graph) {\n  return /* record */[\n          /* nodes */Belt_MapString.remove(graph[/* nodes */0], key),\n          /* edges */graph[/* edges */1],\n          /* actuallyConnectedEdges */graph[/* actuallyConnectedEdges */2]\n        ];\n}\n\nfunction addEdge(edge, graph) {\n  return /* record */[\n          /* nodes */graph[/* nodes */0],\n          /* edges */Belt_Set.add(graph[/* edges */1], edge),\n          /* actuallyConnectedEdges */graph[/* actuallyConnectedEdges */2]\n        ];\n}\n\nfunction removeEdge(edge, graph) {\n  return /* record */[\n          /* nodes */graph[/* nodes */0],\n          /* edges */Belt_Set.remove(graph[/* edges */1], edge),\n          /* actuallyConnectedEdges */graph[/* actuallyConnectedEdges */2]\n        ];\n}\n\nfunction maybeApplyToGraph(f, param, graph) {\n  var inputIndex = param[3];\n  var outputIndex = param[2];\n  var targetId = param[1];\n  var sourceId = param[0];\n  var maybeSource = Belt_MapString.get(graph[/* nodes */0], sourceId);\n  var maybeTarget = Belt_MapString.get(graph[/* nodes */0], targetId);\n  if (maybeSource !== undefined && maybeTarget !== undefined) {\n    Curry._4(f, maybeSource, maybeTarget, outputIndex, inputIndex);\n    return /* tuple */[\n            sourceId,\n            targetId,\n            outputIndex,\n            inputIndex\n          ];\n  }\n  \n}\n\nfunction disconnectEdges(edgesToDisconnect, graph) {\n  return Belt_Set.forEach(edgesToDisconnect, (function (edge) {\n                maybeApplyToGraph((function (prim, prim$1, prim$2, prim$3) {\n                        prim.disconnect(prim$1, prim$2, prim$3);\n                        return /* () */0;\n                      }), edge, graph);\n                return /* () */0;\n              }));\n}\n\nfunction updateConnections(graph) {\n  var edgesToConnect = Belt_Set.diff(graph[/* edges */1], graph[/* actuallyConnectedEdges */2]);\n  var edgesToDisconnect = Belt_Set.diff(graph[/* actuallyConnectedEdges */2], graph[/* edges */1]);\n  disconnectEdges(edgesToDisconnect, graph);\n  var nowConnected = Belt_Set.reduce(edgesToConnect, emptyEdgeSet, (function (acc, edge) {\n          var match = maybeApplyToGraph((function (prim, prim$1, prim$2, prim$3) {\n                  prim.connect(prim$1, prim$2, prim$3);\n                  return /* () */0;\n                }), edge, graph);\n          if (match !== undefined) {\n            return Belt_Set.add(acc, match);\n          } else {\n            return acc;\n          }\n        }));\n  return /* record */[\n          /* nodes */graph[/* nodes */0],\n          /* edges */graph[/* edges */1],\n          /* actuallyConnectedEdges */nowConnected\n        ];\n}\n\nfunction replaceNode(key, newNode, graph) {\n  var match = partitionEdgesWithNode(key, graph[/* actuallyConnectedEdges */2]);\n  disconnectEdges(match[0], graph);\n  var newNodes = Belt_MapString.set(graph[/* nodes */0], key, newNode);\n  return /* record */[\n          /* nodes */newNodes,\n          /* edges */graph[/* edges */1],\n          /* actuallyConnectedEdges */match[1]\n        ];\n}\n\nexports.EdgeComparator = EdgeComparator;\nexports.emptyEdgeSet = emptyEdgeSet;\nexports.emptyAudioGraph = emptyAudioGraph;\nexports.getNode = getNode;\nexports.addNode = addNode;\nexports.partitionEdgesWithNode = partitionEdgesWithNode;\nexports.removeAllEdgesInvolvingNode = removeAllEdgesInvolvingNode;\nexports.removeNode = removeNode;\nexports.addEdge = addEdge;\nexports.removeEdge = removeEdge;\nexports.maybeApplyToGraph = maybeApplyToGraph;\nexports.disconnectEdges = disconnectEdges;\nexports.updateConnections = updateConnections;\nexports.replaceNode = replaceNode;\n/* EdgeComparator Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 4.0.6, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar ReasonReact = require(\"reason-react/src/ReasonReact.js\");\nvar Js_primitive = require(\"bs-platform/lib/js/js_primitive.js\");\n\nfunction Make(Adt) {\n  var component = ReasonReact.statelessComponent(\"OscillatorTypeSelect\");\n  var make = function (onChange, $staropt$star, _) {\n    var currentType = $staropt$star !== undefined ? Js_primitive.valFromOption($staropt$star) : Adt[/* default */0];\n    return /* record */[\n            /* debugName */component[/* debugName */0],\n            /* reactClassInternal */component[/* reactClassInternal */1],\n            /* handedOffState */component[/* handedOffState */2],\n            /* willReceiveProps */component[/* willReceiveProps */3],\n            /* didMount */component[/* didMount */4],\n            /* didUpdate */component[/* didUpdate */5],\n            /* willUnmount */component[/* willUnmount */6],\n            /* willUpdate */component[/* willUpdate */7],\n            /* shouldUpdate */component[/* shouldUpdate */8],\n            /* render */(function () {\n                return React.createElement(\"select\", {\n                            value: Curry._1(Adt[/* toString */2], currentType),\n                            onChange: (function (evt) {\n                                var s = evt.target.value;\n                                return Curry._1(onChange, Curry._1(Adt[/* fromString */3], s));\n                              })\n                          }, $$Array.map((function (x) {\n                                  var s = Curry._1(Adt[/* toString */2], x);\n                                  return React.createElement(\"option\", {\n                                              key: s,\n                                              value: s\n                                            }, s);\n                                }), Adt[/* options */1]));\n              }),\n            /* initialState */component[/* initialState */10],\n            /* retainedProps */component[/* retainedProps */11],\n            /* reducer */component[/* reducer */12],\n            /* jsElementWrapped */component[/* jsElementWrapped */13]\n          ];\n  };\n  return /* module */[\n          /* default */Adt[0],\n          /* options */Adt[1],\n          /* toString */Adt[2],\n          /* fromString */Adt[3],\n          /* component */component,\n          /* make */make\n        ];\n}\n\nexports.Make = Make;\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 4.0.6, PLEASE EDIT WITH CARE\n'use strict';\n\nvar App = require(\"./app\");\nvar ReactDOMRe = require(\"reason-react/src/ReactDOMRe.js\");\nvar ReasonReact = require(\"reason-react/src/ReasonReact.js\");\nvar ServiceWorker = require(\"./serviceWorker\");\n\n((require('./index.css')));\n\nReactDOMRe.renderToElementWithId(ReasonReact.element(undefined, undefined, App.make(/* array */[])), \"root\");\n\nServiceWorker.unregister();\n\n/*  Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 4.0.6, PLEASE EDIT WITH CARE\n'use strict';\n\nvar React = require(\"react\");\nvar Raveform = require(\"./Raveform\");\nvar ReasonReact = require(\"reason-react/src/ReasonReact.js\");\nvar AudioContext = require(\"./audio/AudioContext\");\nvar StatefulWavetable = require(\"./audio/StatefulWavetable\");\nvar StatefulOscillator = require(\"./audio/StatefulOscillator\");\n\n((require('./app.css')));\n\nvar component = ReasonReact.statelessComponent(\"App\");\n\nfunction make() {\n  return /* record */[\n          /* debugName */component[/* debugName */0],\n          /* reactClassInternal */component[/* reactClassInternal */1],\n          /* handedOffState */component[/* handedOffState */2],\n          /* willReceiveProps */component[/* willReceiveProps */3],\n          /* didMount */component[/* didMount */4],\n          /* didUpdate */component[/* didUpdate */5],\n          /* willUnmount */component[/* willUnmount */6],\n          /* willUpdate */component[/* willUpdate */7],\n          /* shouldUpdate */component[/* shouldUpdate */8],\n          /* render */(function () {\n              return React.createElement(\"div\", {\n                          className: \"App\"\n                        }, ReasonReact.element(undefined, undefined, AudioContext.make((function (param) {\n                                    var audioGraph = param[1];\n                                    var audioCtx = param[0];\n                                    return React.createElement(\"div\", {\n                                                style: {\n                                                  display: \"flex\",\n                                                  flexDirection: \"row\"\n                                                }\n                                              }, ReasonReact.element(undefined, undefined, Raveform.make(audioCtx, audioGraph, 512, 512, undefined, /* array */[])), React.createElement(\"div\", {\n                                                    style: {\n                                                      marginLeft: \"24px\"\n                                                    }\n                                                  }, ReasonReact.element(undefined, undefined, StatefulOscillator.make(\"osc1\", audioCtx, audioGraph, undefined, /* array */[])), ReasonReact.element(undefined, undefined, StatefulWavetable.make(audioCtx, audioGraph, undefined, undefined, /* array */[]))));\n                                  }), /* array */[])));\n            }),\n          /* initialState */component[/* initialState */10],\n          /* retainedProps */component[/* retainedProps */11],\n          /* reducer */component[/* reducer */12],\n          /* jsElementWrapped */component[/* jsElementWrapped */13]\n        ];\n}\n\nexports.component = component;\nexports.make = make;\n/*  Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 4.0.6, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Audio = require(\"./audio/Audio\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar Wavelet = require(\"./Wavelet\");\nvar RafCanvas = require(\"./canvas/RafCanvas\");\nvar AudioGraph = require(\"./audio/AudioGraph\");\nvar Caml_array = require(\"bs-platform/lib/js/caml_array.js\");\nvar Canvas2dRe = require(\"bs-webapi/src/canvas/Canvas2dRe.js\");\nvar ReasonReact = require(\"reason-react/src/ReasonReact.js\");\nvar Js_primitive = require(\"bs-platform/lib/js/js_primitive.js\");\n\nfunction animCallback(param, canvasWidth, canvasHeight, $staropt$star, $staropt$star$1, $staropt$star$2, desiredFps, $staropt$star$3, canvas, t) {\n  var state = param[/* state */1];\n  var clearAlpha = $staropt$star !== undefined ? Js_primitive.valFromOption($staropt$star) : undefined;\n  var edgeAlign = $staropt$star$1 !== undefined ? $staropt$star$1 : false;\n  var writeAlpha = $staropt$star$2 !== undefined ? $staropt$star$2 : 1.0;\n  var waveletAlpha = $staropt$star$3 !== undefined ? $staropt$star$3 : 1.0;\n  if (t % (1000.0 / desiredFps) >= 33.0) {\n    return /* () */0;\n  } else {\n    var ctx = canvas.getContext(\"2d\");\n    var width = canvasWidth;\n    var height = canvasHeight;\n    var risingEdge = 0;\n    var match = state[/* analyser */0][0];\n    var match$1 = state[/* timeData */1][0];\n    var match$2 = state[/* freqData */2][0];\n    var match$3 = state[/* imageData */3][0];\n    if (match !== undefined) {\n      var analyser = Js_primitive.valFromOption(match);\n      if (match$1 !== undefined) {\n        if (match$2 !== undefined && match$3 !== undefined) {\n          var freqData = Js_primitive.valFromOption(match$2);\n          var timeData = Js_primitive.valFromOption(match$1);\n          if (clearAlpha !== undefined) {\n            ctx.globalCompositeOperation = Canvas2dRe.Composite[/* sourceOver */0];\n            Canvas2dRe.setFillStyle(ctx, /* String */0, \"rgba(0,0,0,\" + (String(Js_primitive.valFromOption(clearAlpha)) + \")\"));\n          }\n          ctx.fillRect(0.0, 0.0, width, height);\n          analyser.getByteTimeDomainData(timeData);\n          analyser.getByteFrequencyData(freqData);\n          var n = timeData.length;\n          var timeDataFloat = $$Array.map((function (x) {\n                  return x / 128.0 - 1.0;\n                }), timeData);\n          var waveletData = Wavelet.haar(timeDataFloat);\n          var sliceHeight = height / n;\n          var sliceWidth = width / n;\n          ctx.globalAlpha = writeAlpha;\n          ctx.globalCompositeOperation = Canvas2dRe.Composite[/* lighter */8];\n          Canvas2dRe.setFillStyle(ctx, /* String */0, \"red\");\n          for(var i = 0 ,i_finish = n - 1 | 0; i <= i_finish; ++i){\n            var rawV = Caml_array.caml_array_get(freqData, i) / 256.0;\n            var v = Math.log1p(rawV) / Math.log(2.0);\n            var rectWidth = v * width;\n            ctx.fillRect(0.0, i * sliceHeight, rectWidth, sliceHeight);\n          }\n          Math.log(height) / Math.log(2.0);\n          var levelsFloat = Math.log(n) / Math.log(2.0);\n          var levels = levelsFloat | 0;\n          for(var i$1 = 0 ,i_finish$1 = levels - 1 | 0; i$1 <= i_finish$1; ++i$1){\n            var power = Math.pow(2.0, i$1);\n            var levelOffset = power | 0;\n            var levelWidth = width / power;\n            var levelHeight = height / levelsFloat;\n            var y = levelHeight * i$1;\n            for(var j = 0 ,j_finish = levelOffset - 1 | 0; j <= j_finish; ++j){\n              var x = j * levelWidth;\n              var v$1 = Wavelet.waveletCoefToUint8(Caml_array.caml_array_get(waveletData, levelOffset + j | 0));\n              Canvas2dRe.setFillStyle(ctx, /* String */0, \"rgba(0,0,\" + (v$1.toString() + (\",\" + (waveletAlpha.toString() + \")\"))));\n              ctx.fillRect(x, y, levelWidth, levelHeight);\n            }\n          }\n          if (edgeAlign) {\n            while(risingEdge < n && (Caml_array.caml_array_get(timeData, risingEdge) - 128 | 0) > 0) {\n              risingEdge = risingEdge + 1 | 0;\n            };\n            if (risingEdge === n) {\n              risingEdge = 0;\n            }\n            while(risingEdge < n && (Caml_array.caml_array_get(timeData, risingEdge) - 128 | 0) < 5) {\n              risingEdge = risingEdge + 1 | 0;\n            };\n            if (risingEdge === n) {\n              risingEdge = 0;\n            }\n            \n          }\n          Canvas2dRe.setStrokeStyle(ctx, /* String */0, \"green\");\n          ctx.beginPath();\n          for(var i$2 = risingEdge ,i_finish$2 = (risingEdge + n | 0) - 1 | 0; i$2 <= i_finish$2; ++i$2){\n            var match$4 = i$2 >= n;\n            var wrappedI = match$4 ? i$2 - n | 0 : i$2;\n            var v$2 = Caml_array.caml_array_get(timeData, wrappedI) / 256.0;\n            var x$1 = (i$2 - risingEdge | 0) * sliceWidth;\n            var y$1 = height - v$2 * height;\n            ctx.lineTo(x$1, y$1);\n          }\n          ctx.stroke();\n          return /* () */0;\n        } else {\n          return /* () */0;\n        }\n      } else if (match$2 !== undefined || match$3 !== undefined) {\n        return /* () */0;\n      } else {\n        state[/* timeData */1][0] = Js_primitive.some(new Uint8Array(analyser.frequencyBinCount));\n        state[/* freqData */2][0] = Js_primitive.some(new Uint8Array(analyser.frequencyBinCount));\n        state[/* imageData */3][0] = Js_primitive.some(ctx.createImageData(256.0, 256.0));\n        return /* () */0;\n      }\n    } else {\n      return /* () */0;\n    }\n  }\n}\n\nvar component = ReasonReact.reducerComponent(\"Raveform\");\n\nfunction make(audioCtx, audioGraph, width, height, $staropt$star, _) {\n  var nodeKey = $staropt$star !== undefined ? $staropt$star : \"defaultAnalyser\";\n  return /* record */[\n          /* debugName */component[/* debugName */0],\n          /* reactClassInternal */component[/* reactClassInternal */1],\n          /* handedOffState */component[/* handedOffState */2],\n          /* willReceiveProps */component[/* willReceiveProps */3],\n          /* didMount */(function (self) {\n              var analyser = Audio.makeAnalyser(4096, undefined, undefined, undefined, audioCtx);\n              self[/* state */1][/* analyser */0][0] = Js_primitive.some(analyser);\n              audioGraph[0] = AudioGraph.updateConnections(AudioGraph.addEdge(/* tuple */[\n                        nodeKey,\n                        \"sink\",\n                        0,\n                        0\n                      ], AudioGraph.addNode(/* tuple */[\n                            nodeKey,\n                            analyser\n                          ], audioGraph[0])));\n              var partial_arg = 1.0;\n              var partial_arg$1 = false;\n              var partial_arg$2 = 1.0;\n              var arg = function (param, param$1, param$2) {\n                return animCallback(self, width, height, partial_arg$2, partial_arg$1, partial_arg, 60.0, param, param$1, param$2);\n              };\n              self[/* state */1][/* animCallbackRef */4][0] = (function (eta) {\n                  return Curry._2(arg, undefined, eta);\n                });\n              return /* () */0;\n            }),\n          /* didUpdate */component[/* didUpdate */5],\n          /* willUnmount */component[/* willUnmount */6],\n          /* willUpdate */component[/* willUpdate */7],\n          /* shouldUpdate */component[/* shouldUpdate */8],\n          /* render */(function (self) {\n              return ReasonReact.element(undefined, undefined, RafCanvas.make(self[/* state */1][/* animCallbackRef */4], width, height, /* array */[]));\n            }),\n          /* initialState */(function () {\n              return /* record */[\n                      /* analyser : record */[/* contents */undefined],\n                      /* timeData : record */[/* contents */undefined],\n                      /* freqData : record */[/* contents */undefined],\n                      /* imageData : record */[/* contents */undefined],\n                      /* animCallbackRef : record */[/* contents */undefined]\n                    ];\n            }),\n          /* retainedProps */component[/* retainedProps */11],\n          /* reducer */(function (_, _$1) {\n              return /* NoUpdate */0;\n            }),\n          /* jsElementWrapped */component[/* jsElementWrapped */13]\n        ];\n}\n\nexports.animCallback = animCallback;\nexports.component = component;\nexports.make = make;\n/* component Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 4.0.6, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Js_primitive = require(\"bs-platform/lib/js/js_primitive.js\");\n\nvar _getStream = function (constraints){\n     if (navigator.mediaDevices.getUserMedia) {\n       console.log('getUserMedia supported.');\n       return navigator.mediaDevices.getUserMedia(constraints);\n     } else {\n       console.log('getUserMedia not supported on your browser!');\n       return null;\n     }\n     };\n\nfunction getAudioVisualStream() {\n  return Js_primitive.nullable_to_opt(_getStream({\n                  audio: true,\n                  video: true\n                }));\n}\n\nfunction getAudioStream() {\n  return Js_primitive.nullable_to_opt(_getStream({\n                  audio: true,\n                  video: false\n                }));\n}\n\nfunction getVideoStream() {\n  return Js_primitive.nullable_to_opt(_getStream({\n                  audio: false,\n                  video: true\n                }));\n}\n\nexports._getStream = _getStream;\nexports.getAudioVisualStream = getAudioVisualStream;\nexports.getAudioStream = getAudioStream;\nexports.getVideoStream = getVideoStream;\n/* No side effect */\n","// Generated by BUCKLESCRIPT VERSION 4.0.6, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar Caml_array = require(\"bs-platform/lib/js/caml_array.js\");\nvar Caml_float = require(\"bs-platform/lib/js/caml_float.js\");\nvar Caml_int32 = require(\"bs-platform/lib/js/caml_int32.js\");\n\nvar root2 = Math.sqrt(2.0);\n\nvar oneOverRoot2 = 1.0 / root2;\n\nfunction eltsWithStepAndOffset(step, offset, input) {\n  var n = input.length;\n  return $$Array.init(Caml_int32.div(n, step), (function (i) {\n                return Caml_array.caml_array_get(input, Caml_int32.imul(i, step) + offset | 0);\n              }));\n}\n\nfunction evens(param) {\n  return eltsWithStepAndOffset(2, 0, param);\n}\n\nfunction odds(param) {\n  return eltsWithStepAndOffset(2, 1, param);\n}\n\nfunction zipWith(f, a, b) {\n  return $$Array.mapi((function (i, x) {\n                return Curry._2(f, x, Caml_array.caml_array_get(b, i));\n              }), a);\n}\n\nfunction threshold(input, epsilon) {\n  return $$Array.map((function (x) {\n                var match = Math.abs(x) < epsilon;\n                if (match) {\n                  return 0.0;\n                } else {\n                  return x;\n                }\n              }), input);\n}\n\nfunction haar(input) {\n  var n = input.length;\n  if (n > 1) {\n    var even = evens(input);\n    var odd = odds(input);\n    var sum = zipWith((function (a, b) {\n            return (a + b) * oneOverRoot2;\n          }), even, odd);\n    var diff = zipWith((function (a, b) {\n            return (a - b) * oneOverRoot2;\n          }), even, odd);\n    return $$Array.append(haar(sum), diff);\n  } else {\n    return input;\n  }\n}\n\nfunction inverseHaar(input) {\n  var n = input.length;\n  if (n > 1) {\n    var offset = n / 2 | 0;\n    var sum = $$Array.map((function (x) {\n            return x * root2;\n          }), inverseHaar($$Array.sub(input, 0, offset)));\n    var output = Caml_array.caml_make_vect(n, 0.0);\n    for(var i = 0 ,i_finish = offset - 1 | 0; i <= i_finish; ++i){\n      var diff = Caml_array.caml_array_get(input, i + offset | 0) * root2;\n      Caml_array.caml_array_set(output, (i << 1), (Caml_array.caml_array_get(sum, i) + diff) / 2.0);\n      Caml_array.caml_array_set(output, (i << 1) + 1 | 0, (Caml_array.caml_array_get(sum, i) - diff) / 2.0);\n    }\n    return output;\n  } else {\n    return input;\n  }\n}\n\nfunction inplaceFWHT(a) {\n  var h = 1;\n  var n = a.length;\n  while(h < n) {\n    for(var i = 0 ,i_finish = Caml_int32.div(n, (h << 1)) - 1 | 0; i <= i_finish; ++i){\n      var i$1 = Caml_int32.imul(i, (h << 1));\n      for(var j = i$1 ,j_finish = (i$1 + h | 0) - 1 | 0; j <= j_finish; ++j){\n        var x = Caml_array.caml_array_get(a, j);\n        var y = Caml_array.caml_array_get(a, j + h | 0);\n        Caml_array.caml_array_set(a, j, x + y | 0);\n        Caml_array.caml_array_set(a, j + h | 0, x - y | 0);\n      }\n    }\n    h = (h << 1);\n  };\n  return a;\n}\n\nvar waveletEpsilon = Math.pow(2.0, -8.0);\n\nfunction signalFloatToUint8(v) {\n  return (v * 128.0 | 0) + 127 | 0;\n}\n\nfunction waveletCoefToUint8(v) {\n  var absV = Math.abs(v);\n  var tmp;\n  if (absV < waveletEpsilon) {\n    tmp = 0.0;\n  } else {\n    var logAbsV = Math.log(absV) / Math.log(2.0);\n    var scaledLogAbsV = (logAbsV - -8.0) / (2.0 * Math.abs(-8.0));\n    tmp = Caml_float.caml_copysign_float(scaledLogAbsV, v);\n  }\n  return signalFloatToUint8(tmp);\n}\n\nvar log2OfWaveletEpsilon = -8.0;\n\nexports.root2 = root2;\nexports.oneOverRoot2 = oneOverRoot2;\nexports.eltsWithStepAndOffset = eltsWithStepAndOffset;\nexports.evens = evens;\nexports.odds = odds;\nexports.zipWith = zipWith;\nexports.threshold = threshold;\nexports.haar = haar;\nexports.inverseHaar = inverseHaar;\nexports.inplaceFWHT = inplaceFWHT;\nexports.log2OfWaveletEpsilon = log2OfWaveletEpsilon;\nexports.waveletEpsilon = waveletEpsilon;\nexports.signalFloatToUint8 = signalFloatToUint8;\nexports.waveletCoefToUint8 = waveletCoefToUint8;\n/* root2 Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 4.0.6, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar ReasonReact = require(\"reason-react/src/ReasonReact.js\");\nvar Js_primitive = require(\"bs-platform/lib/js/js_primitive.js\");\n\nfunction setCanvasRef(theRef, param) {\n  param[/* state */1][/* canvasRef */0][0] = (theRef == null) ? undefined : Js_primitive.some(theRef);\n  return /* () */0;\n}\n\nvar component = ReasonReact.reducerComponent(\"RafCanvas\");\n\nfunction make(animCallbackRef, width, height, _) {\n  return /* record */[\n          /* debugName */component[/* debugName */0],\n          /* reactClassInternal */component[/* reactClassInternal */1],\n          /* handedOffState */component[/* handedOffState */2],\n          /* willReceiveProps */component[/* willReceiveProps */3],\n          /* didMount */(function (self) {\n              var anim = function (t) {\n                var match = self[/* state */1][/* canvasRef */0][0];\n                var match$1 = self[/* state */1][/* animCallbackRef */1][0];\n                if (match !== undefined) {\n                  if (match$1 !== undefined) {\n                    Curry._2(match$1, Js_primitive.valFromOption(match), t);\n                  }\n                  \n                }\n                self[/* state */1][/* rafRef */2][0] = Js_primitive.some(requestAnimationFrame(anim));\n                return /* () */0;\n              };\n              Curry._1(self[/* onUnmount */4], (function () {\n                      var match = self[/* state */1][/* rafRef */2][0];\n                      if (match !== undefined) {\n                        cancelAnimationFrame(Js_primitive.valFromOption(match));\n                        return /* () */0;\n                      } else {\n                        return /* () */0;\n                      }\n                    }));\n              return anim(0.0);\n            }),\n          /* didUpdate */component[/* didUpdate */5],\n          /* willUnmount */component[/* willUnmount */6],\n          /* willUpdate */component[/* willUpdate */7],\n          /* shouldUpdate */component[/* shouldUpdate */8],\n          /* render */(function (self) {\n              return React.createElement(\"canvas\", {\n                          ref: Curry._1(self[/* handle */0], setCanvasRef),\n                          height: height.toString(),\n                          width: width.toString()\n                        });\n            }),\n          /* initialState */(function () {\n              return /* record */[\n                      /* canvasRef : record */[/* contents */undefined],\n                      /* animCallbackRef */animCallbackRef,\n                      /* rafRef : record */[/* contents */undefined]\n                    ];\n            }),\n          /* retainedProps */component[/* retainedProps */11],\n          /* reducer */(function (_, _$1) {\n              return /* NoUpdate */0;\n            }),\n          /* jsElementWrapped */component[/* jsElementWrapped */13]\n        ];\n}\n\nexports.setCanvasRef = setCanvasRef;\nexports.component = component;\nexports.make = make;\n/* component Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 4.0.6, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Audio = require(\"./Audio\");\nvar Block = require(\"bs-platform/lib/js/block.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar AudioGraph = require(\"./AudioGraph\");\nvar ReasonReact = require(\"reason-react/src/ReasonReact.js\");\nvar Js_primitive = require(\"bs-platform/lib/js/js_primitive.js\");\n\nvar component = ReasonReact.reducerComponent(\"AudioContext\");\n\nfunction make(render, _) {\n  return /* record */[\n          /* debugName */component[/* debugName */0],\n          /* reactClassInternal */component[/* reactClassInternal */1],\n          /* handedOffState */component[/* handedOffState */2],\n          /* willReceiveProps */component[/* willReceiveProps */3],\n          /* didMount */(function (self) {\n              return Curry._1(self[/* send */3], /* SetAudioContext */[Curry._1(Audio.makeDefaultAudioCtx, /* () */0)]);\n            }),\n          /* didUpdate */component[/* didUpdate */5],\n          /* willUnmount */component[/* willUnmount */6],\n          /* willUpdate */component[/* willUpdate */7],\n          /* shouldUpdate */component[/* shouldUpdate */8],\n          /* render */(function (self) {\n              var match = self[/* state */1][/* audioCtx */0];\n              if (match !== undefined) {\n                return Curry._1(render, /* tuple */[\n                            Js_primitive.valFromOption(match),\n                            self[/* state */1][/* audioGraph */1]\n                          ]);\n              } else {\n                return null;\n              }\n            }),\n          /* initialState */(function () {\n              return /* record */[\n                      /* audioCtx */undefined,\n                      /* audioGraph : record */[/* contents */AudioGraph.emptyAudioGraph]\n                    ];\n            }),\n          /* retainedProps */component[/* retainedProps */11],\n          /* reducer */(function (action, state) {\n              if (typeof action === \"number\") {\n                if (action !== 0) {\n                  return /* SideEffects */Block.__(1, [(function (self) {\n                                var match = self[/* state */1][/* audioCtx */0];\n                                if (match !== undefined) {\n                                  Js_primitive.valFromOption(match).suspend();\n                                  return /* () */0;\n                                } else {\n                                  return /* () */0;\n                                }\n                              })]);\n                } else {\n                  return /* SideEffects */Block.__(1, [(function (self) {\n                                var match = self[/* state */1][/* audioCtx */0];\n                                if (match !== undefined) {\n                                  Js_primitive.valFromOption(match).resume();\n                                  return /* () */0;\n                                } else {\n                                  return /* () */0;\n                                }\n                              })]);\n                }\n              } else {\n                var ctx = action[0];\n                return /* UpdateWithSideEffects */Block.__(2, [\n                          /* record */[\n                            /* audioCtx */Js_primitive.some(ctx),\n                            /* audioGraph */state[/* audioGraph */1]\n                          ],\n                          (function (self) {\n                              self[/* state */1][/* audioGraph */1][0] = AudioGraph.updateConnections(AudioGraph.addNode(/* tuple */[\n                                        \"sink\",\n                                        ctx.destination\n                                      ], self[/* state */1][/* audioGraph */1][0]));\n                              return /* () */0;\n                            })\n                        ]);\n              }\n            }),\n          /* jsElementWrapped */component[/* jsElementWrapped */13]\n        ];\n}\n\nexports.component = component;\nexports.make = make;\n/* component Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 4.0.6, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Block = require(\"bs-platform/lib/js/block.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\nvar AdtSelect = require(\"../AdtSelect\");\nvar Wavetable = require(\"./Wavetable\");\nvar Belt_Option = require(\"bs-platform/lib/js/belt_Option.js\");\nvar Caml_format = require(\"bs-platform/lib/js/caml_format.js\");\nvar ReasonReact = require(\"reason-react/src/ReasonReact.js\");\n\nvar options = /* array */[\n  /* Sine512 */0,\n  /* Saw512 */1,\n  /* Custom */2\n];\n\nfunction toString(param) {\n  switch (param) {\n    case 0 : \n        return \"sine-512\";\n    case 1 : \n        return \"saw-512\";\n    case 2 : \n        return \"custom\";\n    \n  }\n}\n\nfunction fromString(param) {\n  switch (param) {\n    case \"custom\" : \n        return /* Custom */2;\n    case \"saw-512\" : \n        return /* Saw512 */1;\n    case \"sine-512\" : \n        return /* Sine512 */0;\n    default:\n      return /* Sine512 */0;\n  }\n}\n\nvar WavetableSelect = AdtSelect.Make(/* module */[\n      /* default : Sine512 */0,\n      /* options */options,\n      /* toString */toString,\n      /* fromString */fromString\n    ]);\n\nfunction toWavetable(param) {\n  if (param !== 1) {\n    return Wavetable.sineSamples;\n  } else {\n    return Wavetable.sawSamples;\n  }\n}\n\nvar component = ReasonReact.reducerComponent(\"StatefulWavetable\");\n\nfunction make(audioCtx, audioGraph, $staropt$star, $staropt$star$1, _) {\n  var key = $staropt$star !== undefined ? $staropt$star : \"defaultWavetable\";\n  var output = $staropt$star$1 !== undefined ? $staropt$star$1 : \"defaultAnalyser\";\n  return /* record */[\n          /* debugName */component[/* debugName */0],\n          /* reactClassInternal */component[/* reactClassInternal */1],\n          /* handedOffState */component[/* handedOffState */2],\n          /* willReceiveProps */component[/* willReceiveProps */3],\n          /* didMount */component[/* didMount */4],\n          /* didUpdate */component[/* didUpdate */5],\n          /* willUnmount */component[/* willUnmount */6],\n          /* willUpdate */component[/* willUpdate */7],\n          /* shouldUpdate */component[/* shouldUpdate */8],\n          /* render */(function (self) {\n              var match = self[/* state */1][/* wavetablePreset */1];\n              return React.createElement(\"div\", undefined, React.createElement(\"h2\", undefined, \"Wavetable: \" + key), React.createElement(\"fieldset\", undefined, ReasonReact.element(undefined, undefined, Curry._3(WavetableSelect[/* make */5], (function (v) {\n                                        return Curry._1(self[/* send */3], /* SetWavetablePreset */Block.__(0, [v]));\n                                      }), self[/* state */1][/* wavetablePreset */1], /* array */[])), match >= 2 ? React.createElement(\"div\", undefined, React.createElement(\"input\", {\n                                        type: \"text\",\n                                        value: JSON.stringify(self[/* state */1][/* wavetable */0]),\n                                        onChange: (function (evt) {\n                                            var s = evt.target.value;\n                                            var exit = 0;\n                                            var json;\n                                            try {\n                                              json = JSON.parse(s);\n                                              exit = 1;\n                                            }\n                                            catch (raw_e){\n                                              var e = Js_exn.internalToOCamlException(raw_e);\n                                              console.log(e);\n                                              return /* () */0;\n                                            }\n                                            if (exit === 1) {\n                                              var a = Belt_Option.getWithDefault(Js_json.decodeArray(json), /* array */[]);\n                                              return Curry._1(self[/* send */3], /* SetWavetable */Block.__(1, [$$Array.map((function (x) {\n                                                                    return Belt_Option.getWithDefault(Js_json.decodeNumber(x), 0.0);\n                                                                  }), a)]));\n                                            }\n                                            \n                                          })\n                                      })) : null), React.createElement(\"fieldset\", undefined, React.createElement(\"label\", undefined, \"gain\"), React.createElement(\"input\", {\n                                  step: 0.01,\n                                  type: \"number\",\n                                  value: self[/* state */1][/* gain */3].toString(),\n                                  onChange: Curry._1(self[/* handle */0], (function (evt, param) {\n                                          var s = evt.target.value;\n                                          var v = Caml_format.caml_float_of_string(s);\n                                          return Curry._1(param[/* send */3], /* SetGain */Block.__(3, [v]));\n                                        }))\n                                }), React.createElement(\"label\", undefined, \"playback rate\"), React.createElement(\"input\", {\n                                  step: 0.01,\n                                  type: \"number\",\n                                  value: self[/* state */1][/* playbackRate */2].toString(),\n                                  onChange: Curry._1(self[/* handle */0], (function (evt, param) {\n                                          var s = evt.target.value;\n                                          var v = Caml_format.caml_float_of_string(s);\n                                          return Curry._1(param[/* send */3], /* SetPlaybackRate */Block.__(2, [v]));\n                                        }))\n                                })), ReasonReact.element(key, undefined, Wavetable.make(audioCtx, audioGraph, undefined, output, self[/* state */1][/* gain */3], self[/* state */1][/* playbackRate */2], self[/* state */1][/* wavetable */0], /* array */[])));\n            }),\n          /* initialState */(function () {\n              return /* record */[\n                      /* wavetable */Wavetable.sineSamples,\n                      /* wavetablePreset : Sine512 */0,\n                      /* playbackRate */1.0,\n                      /* gain */0.25\n                    ];\n            }),\n          /* retainedProps */component[/* retainedProps */11],\n          /* reducer */(function (action, state) {\n              switch (action.tag | 0) {\n                case 0 : \n                    var wavetablePreset = action[0];\n                    return /* Update */Block.__(0, [/* record */[\n                                /* wavetable */toWavetable(wavetablePreset),\n                                /* wavetablePreset */wavetablePreset,\n                                /* playbackRate */state[/* playbackRate */2],\n                                /* gain */state[/* gain */3]\n                              ]]);\n                case 1 : \n                    return /* Update */Block.__(0, [/* record */[\n                                /* wavetable */action[0],\n                                /* wavetablePreset */state[/* wavetablePreset */1],\n                                /* playbackRate */state[/* playbackRate */2],\n                                /* gain */state[/* gain */3]\n                              ]]);\n                case 2 : \n                    return /* Update */Block.__(0, [/* record */[\n                                /* wavetable */state[/* wavetable */0],\n                                /* wavetablePreset */state[/* wavetablePreset */1],\n                                /* playbackRate */action[0],\n                                /* gain */state[/* gain */3]\n                              ]]);\n                case 3 : \n                    return /* Update */Block.__(0, [/* record */[\n                                /* wavetable */state[/* wavetable */0],\n                                /* wavetablePreset */state[/* wavetablePreset */1],\n                                /* playbackRate */state[/* playbackRate */2],\n                                /* gain */action[0]\n                              ]]);\n                \n              }\n            }),\n          /* jsElementWrapped */component[/* jsElementWrapped */13]\n        ];\n}\n\nexports.WavetableSelect = WavetableSelect;\nexports.toWavetable = toWavetable;\nexports.component = component;\nexports.make = make;\n/* WavetableSelect Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 4.0.6, PLEASE EDIT WITH CARE\n'use strict';\n\nvar List = require(\"bs-platform/lib/js/list.js\");\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar AudioGraph = require(\"./AudioGraph\");\nvar Caml_array = require(\"bs-platform/lib/js/caml_array.js\");\nvar Caml_float = require(\"bs-platform/lib/js/caml_float.js\");\nvar Caml_int32 = require(\"bs-platform/lib/js/caml_int32.js\");\nvar Caml_string = require(\"bs-platform/lib/js/caml_string.js\");\nvar ReasonReact = require(\"reason-react/src/ReasonReact.js\");\nvar Js_primitive = require(\"bs-platform/lib/js/js_primitive.js\");\nvar Caml_primitive = require(\"bs-platform/lib/js/caml_primitive.js\");\n\nfunction makeBuffer(audioCtx, sampleData) {\n  var sampleRate = audioCtx.sampleRate;\n  var samples = sampleData.length;\n  var buffer = audioCtx.createBuffer(1, samples, sampleRate | 0);\n  var data = buffer.getChannelData(0);\n  for(var i = 0 ,i_finish = samples - 1 | 0; i <= i_finish; ++i){\n    Caml_array.caml_array_set(data, i, Caml_array.caml_array_get(sampleData, i));\n  }\n  return buffer;\n}\n\nfunction generateSamplesFromFunction(f, samples) {\n  return $$Array.init(samples, (function (i) {\n                return Curry._1(f, i / samples);\n              }));\n}\n\nfunction makeBufferFromFunction(audioCtx, f, samples) {\n  var sampleData = generateSamplesFromFunction(f, samples);\n  return makeBuffer(audioCtx, sampleData);\n}\n\nfunction sineF(t) {\n  return Math.sin(2.0 * Math.PI * t);\n}\n\nfunction squareF(t) {\n  return Caml_float.caml_copysign_float(1.0, sineF(t));\n}\n\nfunction sawF(t) {\n  return 2.0 * (t - Math.floor(0.5 + t));\n}\n\nfunction triangleF(t) {\n  return 2.0 * Math.abs(sawF(t)) - 1.0;\n}\n\nfunction fractal1d(seed, generations) {\n  List.length(seed);\n  var output = /* record */[/* contents : array */[1.0]];\n  for(var i = 0 ,i_finish = generations - 1 | 0; i <= i_finish; ++i){\n    output[0] = $$Array.concat(List.map((function (v) {\n                return $$Array.map((function (x) {\n                              return v * x;\n                            }), output[0]);\n              }), seed));\n  }\n  return output[0];\n}\n\nvar sineSamples = generateSamplesFromFunction(sineF, 512);\n\nvar squareSamples = generateSamplesFromFunction(squareF, 512);\n\nvar triangleSamples = generateSamplesFromFunction(triangleF, 512);\n\nvar sawSamples = generateSamplesFromFunction(sawF, 512);\n\nfunction fromText(s) {\n  var n = s.length;\n  return $$Array.init(n, (function (i) {\n                return Caml_string.get(s, i) / 128.0 - 1.0;\n              }));\n}\n\nfunction zeroPad(x, length) {\n  var out = Caml_array.caml_make_vect(length, 0.0);\n  var len = Caml_primitive.caml_int_min(x.length - 1 | 0, length - 1 | 0);\n  $$Array.blit(x, 1, out, 1, len);\n  return out;\n}\n\nfunction cycle(x, length) {\n  var n = x.length;\n  return $$Array.init(length, (function (i) {\n                return Caml_array.caml_array_get(x, Caml_int32.mod_(i, n));\n              }));\n}\n\nfunction swapDiff(x, y) {\n  var n = x.length;\n  var offset = n / 2 | 0;\n  var y$1 = cycle(y, offset);\n  $$Array.blit(y$1, 0, x, offset, offset);\n  return x;\n}\n\nvar component = ReasonReact.reducerComponent(\"Wavetable\");\n\nfunction make(audioCtx, audioGraph, $staropt$star, $staropt$star$1, $staropt$star$2, $staropt$star$3, $staropt$star$4, _) {\n  var key = $staropt$star !== undefined ? $staropt$star : \"defaultWavetable\";\n  var output = $staropt$star$1 !== undefined ? $staropt$star$1 : \"defaultAnalyser\";\n  var gain = $staropt$star$2 !== undefined ? $staropt$star$2 : 0.5;\n  var playbackRate = $staropt$star$3 !== undefined ? $staropt$star$3 : 1.0;\n  var wavetable = $staropt$star$4 !== undefined ? $staropt$star$4 : sawSamples;\n  return /* record */[\n          /* debugName */component[/* debugName */0],\n          /* reactClassInternal */component[/* reactClassInternal */1],\n          /* handedOffState */component[/* handedOffState */2],\n          /* willReceiveProps */component[/* willReceiveProps */3],\n          /* didMount */(function (self) {\n              var buffer = makeBuffer(audioCtx, wavetable);\n              var bufferSource = audioCtx.createBufferSource();\n              bufferSource.buffer = buffer;\n              bufferSource.loop = true;\n              bufferSource.playbackRate.value = playbackRate;\n              self[/* state */1][/* bufferSource */1][0] = Js_primitive.some(bufferSource);\n              var gainNode = audioCtx.createGain();\n              gainNode.gain.value = gain;\n              bufferSource.connect(gainNode);\n              bufferSource.start();\n              self[/* state */1][/* gainNode */2][0] = Js_primitive.some(gainNode);\n              audioGraph[0] = AudioGraph.updateConnections(AudioGraph.addEdge(/* tuple */[\n                        key,\n                        \"sink\",\n                        0,\n                        0\n                      ], AudioGraph.addEdge(/* tuple */[\n                            key,\n                            output,\n                            0,\n                            0\n                          ], AudioGraph.addNode(/* tuple */[\n                                key,\n                                gainNode\n                              ], audioGraph[0]))));\n              return Curry._1(self[/* onUnmount */4], (function () {\n                            var match = self[/* state */1][/* bufferSource */1][0];\n                            if (match !== undefined) {\n                              Js_primitive.valFromOption(match).stop();\n                              return /* () */0;\n                            } else {\n                              return /* () */0;\n                            }\n                          }));\n            }),\n          /* didUpdate */component[/* didUpdate */5],\n          /* willUnmount */component[/* willUnmount */6],\n          /* willUpdate */(function (param) {\n              var newSelf = param[/* newSelf */1];\n              var match = newSelf[/* state */1][/* bufferSource */1][0];\n              var match$1 = newSelf[/* state */1][/* gainNode */2][0];\n              if (match !== undefined && match$1 !== undefined) {\n                var gainNode = Js_primitive.valFromOption(match$1);\n                var bufferSource = Js_primitive.valFromOption(match);\n                var t = audioCtx.currentTime;\n                bufferSource.playbackRate.setValueAtTime(playbackRate, t);\n                if (param[/* oldSelf */0][/* state */1][/* currentWavetable */0][0] !== wavetable) {\n                  bufferSource.stop();\n                  var buffer = makeBuffer(audioCtx, wavetable);\n                  var bufferSource$1 = audioCtx.createBufferSource();\n                  bufferSource$1.buffer = buffer;\n                  bufferSource$1.loop = true;\n                  bufferSource$1.playbackRate.value = playbackRate;\n                  bufferSource$1.connect(gainNode);\n                  bufferSource$1.start();\n                  newSelf[/* state */1][/* bufferSource */1][0] = Js_primitive.some(bufferSource$1);\n                  newSelf[/* state */1][/* currentWavetable */0][0] = wavetable;\n                }\n                gainNode.gain.setValueAtTime(gain, t);\n                return /* () */0;\n              } else {\n                return /* () */0;\n              }\n            }),\n          /* shouldUpdate */component[/* shouldUpdate */8],\n          /* render */(function () {\n              return React.createElement(\"div\", undefined);\n            }),\n          /* initialState */(function () {\n              return /* record */[\n                      /* currentWavetable : record */[/* contents */wavetable],\n                      /* bufferSource : record */[/* contents */undefined],\n                      /* gainNode : record */[/* contents */undefined]\n                    ];\n            }),\n          /* retainedProps */component[/* retainedProps */11],\n          /* reducer */(function (_, _$1) {\n              return /* NoUpdate */0;\n            }),\n          /* jsElementWrapped */component[/* jsElementWrapped */13]\n        ];\n}\n\nexports.makeBuffer = makeBuffer;\nexports.generateSamplesFromFunction = generateSamplesFromFunction;\nexports.makeBufferFromFunction = makeBufferFromFunction;\nexports.sineF = sineF;\nexports.squareF = squareF;\nexports.sawF = sawF;\nexports.triangleF = triangleF;\nexports.fractal1d = fractal1d;\nexports.sineSamples = sineSamples;\nexports.squareSamples = squareSamples;\nexports.triangleSamples = triangleSamples;\nexports.sawSamples = sawSamples;\nexports.fromText = fromText;\nexports.zeroPad = zeroPad;\nexports.cycle = cycle;\nexports.swapDiff = swapDiff;\nexports.component = component;\nexports.make = make;\n/* sineSamples Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 4.0.6, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Audio = require(\"./Audio\");\nvar Block = require(\"bs-platform/lib/js/block.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar AdtSelect = require(\"../AdtSelect\");\nvar Oscillator = require(\"./Oscillator\");\nvar Caml_format = require(\"bs-platform/lib/js/caml_format.js\");\nvar ReasonReact = require(\"reason-react/src/ReasonReact.js\");\n\nvar options = /* array */[\n  /* Sine */0,\n  /* Triangle */3,\n  /* Sawtooth */2,\n  /* Square */1\n];\n\nvar OscillatorTypeSelect = AdtSelect.Make(/* module */[\n      /* default : Sine */0,\n      /* options */options,\n      /* toString */Audio.string_of_oscillatorType,\n      /* fromString */Audio.oscillatorType_of_string\n    ]);\n\nfunction shiftedMidiCps(sampleRate, i) {\n  return sampleRate / 512.0 * Math.pow(2.0, (i - 41.0) / 12.0);\n}\n\nfunction freqToMidiNote(_, v) {\n  var note = 12.0 * (Math.log(v / 440.0) / Math.log(2.0)) + 69.0;\n  if (note - Math.floor(note) <= 0.5) {\n    return note | 0;\n  } else {\n    return (note | 0) + 1 | 0;\n  }\n}\n\nvar options$1 = /* array */[\n  /* LinearFrequency */0,\n  /* LinearPeriod */1\n];\n\nfunction toString(param) {\n  if (param) {\n    return \"period\";\n  } else {\n    return \"frequency\";\n  }\n}\n\nfunction fromString(param) {\n  switch (param) {\n    case \"frequency\" : \n        return /* LinearFrequency */0;\n    case \"period\" : \n        return /* LinearPeriod */1;\n    default:\n      return /* LinearPeriod */1;\n  }\n}\n\nvar FrequencyOrPeriodSelect = AdtSelect.Make(/* module */[\n      /* default : LinearPeriod */1,\n      /* options */options$1,\n      /* toString */toString,\n      /* fromString */fromString\n    ]);\n\nvar component = ReasonReact.reducerComponent(\"StatefulOscillator\");\n\nfunction make(nodeKey, audioCtx, audioGraph, $staropt$star, _) {\n  var output = $staropt$star !== undefined ? $staropt$star : \"defaultAnalyser\";\n  return /* record */[\n          /* debugName */component[/* debugName */0],\n          /* reactClassInternal */component[/* reactClassInternal */1],\n          /* handedOffState */component[/* handedOffState */2],\n          /* willReceiveProps */component[/* willReceiveProps */3],\n          /* didMount */component[/* didMount */4],\n          /* didUpdate */component[/* didUpdate */5],\n          /* willUnmount */component[/* willUnmount */6],\n          /* willUpdate */component[/* willUpdate */7],\n          /* shouldUpdate */component[/* shouldUpdate */8],\n          /* render */(function (self) {\n              var match = self[/* state */1][/* selectorType */1];\n              return React.createElement(\"div\", undefined, React.createElement(\"h2\", undefined, \"Oscillator: \" + nodeKey), React.createElement(\"fieldset\", undefined, ReasonReact.element(undefined, undefined, Curry._3(OscillatorTypeSelect[/* make */5], Curry._1(self[/* handle */0], (function (v, param) {\n                                            return Curry._1(param[/* send */3], /* SetOscillatorType */Block.__(0, [v]));\n                                          })), self[/* state */1][/* oscillatorType */0], /* array */[]))), React.createElement(\"fieldset\", undefined, ReasonReact.element(undefined, undefined, Curry._3(FrequencyOrPeriodSelect[/* make */5], Curry._1(self[/* handle */0], (function (v, param) {\n                                            return Curry._1(param[/* send */3], /* SetSelectorType */Block.__(1, [v]));\n                                          })), self[/* state */1][/* selectorType */1], /* array */[])), match ? React.createElement(\"input\", {\n                                    step: 1.0,\n                                    type: \"number\",\n                                    value: (audioCtx.sampleRate / self[/* state */1][/* frequency */2]).toString(),\n                                    onChange: Curry._1(self[/* handle */0], (function (evt, param) {\n                                            var s = evt.target.value;\n                                            var v = Caml_format.caml_float_of_string(s);\n                                            if (v > 0.0) {\n                                              return Curry._1(param[/* send */3], /* SetPeriod */Block.__(3, [v]));\n                                            } else {\n                                              return 0;\n                                            }\n                                          }))\n                                  }) : React.createElement(\"input\", {\n                                    step: 1.0,\n                                    type: \"number\",\n                                    value: self[/* state */1][/* frequency */2].toString(),\n                                    onChange: Curry._1(self[/* handle */0], (function (evt, param) {\n                                            var s = evt.target.value;\n                                            var v = Caml_format.caml_float_of_string(s);\n                                            if (v > 0.0) {\n                                              return Curry._1(param[/* send */3], /* SetFrequency */Block.__(2, [v]));\n                                            } else {\n                                              return 0;\n                                            }\n                                          }))\n                                  })), React.createElement(\"fieldset\", undefined, React.createElement(\"label\", undefined, \"gain\"), React.createElement(\"input\", {\n                                  step: 0.01,\n                                  type: \"number\",\n                                  value: self[/* state */1][/* gain */3].toString(),\n                                  onChange: Curry._1(self[/* handle */0], (function (evt, param) {\n                                          var s = evt.target.value;\n                                          var v = Caml_format.caml_float_of_string(s);\n                                          return Curry._1(param[/* send */3], /* SetGain */Block.__(5, [v]));\n                                        }))\n                                })), ReasonReact.element(undefined, undefined, Oscillator.make(audioCtx, audioGraph, nodeKey, self[/* state */1][/* frequency */2], self[/* state */1][/* gain */3], self[/* state */1][/* oscillatorType */0], output, /* array */[])));\n            }),\n          /* initialState */(function () {\n              return /* record */[\n                      /* oscillatorType */OscillatorTypeSelect[/* default */0],\n                      /* selectorType */FrequencyOrPeriodSelect[/* default */0],\n                      /* frequency */audioCtx.sampleRate / 512.0,\n                      /* gain */0.25\n                    ];\n            }),\n          /* retainedProps */component[/* retainedProps */11],\n          /* reducer */(function (action, state) {\n              switch (action.tag | 0) {\n                case 0 : \n                    return /* Update */Block.__(0, [/* record */[\n                                /* oscillatorType */action[0],\n                                /* selectorType */state[/* selectorType */1],\n                                /* frequency */state[/* frequency */2],\n                                /* gain */state[/* gain */3]\n                              ]]);\n                case 1 : \n                    return /* Update */Block.__(0, [/* record */[\n                                /* oscillatorType */state[/* oscillatorType */0],\n                                /* selectorType */action[0],\n                                /* frequency */state[/* frequency */2],\n                                /* gain */state[/* gain */3]\n                              ]]);\n                case 2 : \n                    return /* Update */Block.__(0, [/* record */[\n                                /* oscillatorType */state[/* oscillatorType */0],\n                                /* selectorType */state[/* selectorType */1],\n                                /* frequency */action[0],\n                                /* gain */state[/* gain */3]\n                              ]]);\n                case 3 : \n                    return /* Update */Block.__(0, [/* record */[\n                                /* oscillatorType */state[/* oscillatorType */0],\n                                /* selectorType */state[/* selectorType */1],\n                                /* frequency */audioCtx.sampleRate / action[0],\n                                /* gain */state[/* gain */3]\n                              ]]);\n                case 4 : \n                    return /* Update */Block.__(0, [/* record */[\n                                /* oscillatorType */state[/* oscillatorType */0],\n                                /* selectorType */state[/* selectorType */1],\n                                /* frequency */shiftedMidiCps(audioCtx.sampleRate, action[0]),\n                                /* gain */state[/* gain */3]\n                              ]]);\n                case 5 : \n                    return /* Update */Block.__(0, [/* record */[\n                                /* oscillatorType */state[/* oscillatorType */0],\n                                /* selectorType */state[/* selectorType */1],\n                                /* frequency */state[/* frequency */2],\n                                /* gain */action[0]\n                              ]]);\n                \n              }\n            }),\n          /* jsElementWrapped */component[/* jsElementWrapped */13]\n        ];\n}\n\nvar midiNoteToFreq = shiftedMidiCps;\n\nexports.OscillatorTypeSelect = OscillatorTypeSelect;\nexports.shiftedMidiCps = shiftedMidiCps;\nexports.freqToMidiNote = freqToMidiNote;\nexports.midiNoteToFreq = midiNoteToFreq;\nexports.FrequencyOrPeriodSelect = FrequencyOrPeriodSelect;\nexports.component = component;\nexports.make = make;\n/* OscillatorTypeSelect Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 4.0.6, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Audio = require(\"./Audio\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar AudioGraph = require(\"./AudioGraph\");\nvar Pervasives = require(\"bs-platform/lib/js/pervasives.js\");\nvar ReasonReact = require(\"reason-react/src/ReasonReact.js\");\nvar Js_primitive = require(\"bs-platform/lib/js/js_primitive.js\");\n\nvar component = ReasonReact.reducerComponent(\"Oscillator\");\n\nfunction make(audioCtx, audioGraph, nodeKey, $staropt$star, $staropt$star$1, $staropt$star$2, $staropt$star$3, _) {\n  var frequency = $staropt$star !== undefined ? $staropt$star : 440.0;\n  var gain = $staropt$star$1 !== undefined ? $staropt$star$1 : 0.5;\n  var type_ = $staropt$star$2 !== undefined ? $staropt$star$2 : /* Sine */0;\n  var output = $staropt$star$3 !== undefined ? $staropt$star$3 : \"defaultAnalyser\";\n  return /* record */[\n          /* debugName */component[/* debugName */0],\n          /* reactClassInternal */component[/* reactClassInternal */1],\n          /* handedOffState */component[/* handedOffState */2],\n          /* willReceiveProps */component[/* willReceiveProps */3],\n          /* didMount */(function (self) {\n              var gainNode = audioCtx.createGain();\n              gainNode.gain.value = gain;\n              self[/* state */1][/* gainRef */1][0] = Js_primitive.some(gainNode);\n              var osc = Audio.makeOscillator(frequency, type_, audioCtx);\n              self[/* state */1][/* oscillatorRef */0][0] = Js_primitive.some(osc);\n              osc.connect(gainNode);\n              osc.start();\n              audioGraph[0] = AudioGraph.updateConnections(AudioGraph.addEdge(/* tuple */[\n                        nodeKey,\n                        output,\n                        0,\n                        0\n                      ], AudioGraph.addNode(/* tuple */[\n                            nodeKey,\n                            gainNode\n                          ], audioGraph[0])));\n              return Curry._1(self[/* onUnmount */4], (function () {\n                            var match = self[/* state */1][/* oscillatorRef */0][0];\n                            if (match !== undefined) {\n                              Js_primitive.valFromOption(match).stop();\n                              return /* () */0;\n                            } else {\n                              return /* () */0;\n                            }\n                          }));\n            }),\n          /* didUpdate */component[/* didUpdate */5],\n          /* willUnmount */component[/* willUnmount */6],\n          /* willUpdate */(function (param) {\n              var newSelf = param[/* newSelf */1];\n              var match = newSelf[/* state */1][/* oscillatorRef */0][0];\n              var match$1 = newSelf[/* state */1][/* gainRef */1][0];\n              if (match !== undefined && match$1 !== undefined) {\n                var osc = Js_primitive.valFromOption(match);\n                var t = audioCtx.currentTime;\n                osc.type = Audio.string_of_oscillatorType(type_);\n                Js_primitive.valFromOption(match$1).gain.setValueAtTime(gain, t);\n                osc.frequency.setValueAtTime(frequency, t);\n                return /* () */0;\n              } else {\n                return /* () */0;\n              }\n            }),\n          /* shouldUpdate */component[/* shouldUpdate */8],\n          /* render */(function () {\n              return React.createElement(\"div\", undefined, Pervasives.string_of_float(frequency) + \" Hz\");\n            }),\n          /* initialState */(function () {\n              return /* record */[\n                      /* oscillatorRef : record */[/* contents */undefined],\n                      /* gainRef : record */[/* contents */undefined]\n                    ];\n            }),\n          /* retainedProps */component[/* retainedProps */11],\n          /* reducer */(function (_, _$1) {\n              return /* NoUpdate */0;\n            }),\n          /* jsElementWrapped */component[/* jsElementWrapped */13]\n        ];\n}\n\nexports.component = component;\nexports.make = make;\n/* component Not a pure module */\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n"],"sourceRoot":""}